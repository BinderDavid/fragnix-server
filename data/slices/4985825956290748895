{"sliceID":4985825956290748895,"uses":[{"reference":{"otherSlice":7471038449729235448},"usedName":{"valueName":{"identifier":"settingsBeforeMainLoop"}},"qualification":null},{"reference":{"otherSlice":6681549989975802611},"usedName":{"valueName":{"identifier":"newCounter"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":5420159825471836711},"usedName":{"valueName":{"identifier":"acceptConnection"}},"qualification":null},{"reference":{"otherSlice":4427860025337559766},"usedName":{"valueName":{"identifier":"withDateCache"}},"qualification":"D"},{"reference":{"otherSlice":2309870252601603012},"usedName":{"valueName":{"identifier":"withFdCache"}},"qualification":"F"},{"reference":{"otherSlice":4630771394963517338},"usedName":{"valueName":{"identifier":"withFileInfoCache"}},"qualification":"I"},{"reference":{"otherSlice":5109432906615614034},"usedName":{"constructorName":{"identifier":"InternalInfo0"},"constructorTypeName":{"identifier":"InternalInfo0"}},"qualification":null},{"reference":{"otherSlice":7471038449729235448},"usedName":{"valueName":{"identifier":"settingsFdCacheDuration"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"*"}},"qualification":null},{"reference":{"otherSlice":7471038449729235448},"usedName":{"valueName":{"identifier":"settingsFileInfoCacheDuration"}},"qualification":null},{"reference":{"otherSlice":7471038449729235448},"usedName":{"valueName":{"identifier":"settingsTimeout"}},"qualification":null},{"reference":{"otherSlice":7471038449729235448},"usedName":{"valueName":{"identifier":"settingsManager"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Just"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Nothing"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"builtinModule":"Control.Exception.Base"},"usedName":{"valueName":{"identifier":"bracket"}},"qualification":null},{"reference":{"otherSlice":5664972250852548981},"usedName":{"valueName":{"identifier":"initialize"}},"qualification":"T"},{"reference":{"otherSlice":8101995397395509340},"usedName":{"valueName":{"identifier":"stopManager"}},"qualification":"T"},{"reference":{"otherSlice":7471038449729235448},"usedName":{"typeName":{"identifier":"Settings"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":2455091088557061440},"usedName":{"typeName":{"identifier":"Connection"}},"qualification":null},{"reference":{"otherSlice":7537180873733986230},"usedName":{"typeName":{"identifier":"Transport"}},"qualification":null},{"reference":{"otherSlice":2694158817781932873},"usedName":{"typeName":{"identifier":"SockAddr"}},"qualification":null},{"reference":{"otherSlice":628686228066488211},"usedName":{"typeName":{"identifier":"Application"}},"qualification":null}],"fragment":["runSettingsConnectionMakerSecure ::\n                                 Settings ->\n                                   IO (IO (Connection, Transport), SockAddr) -> Application -> IO ()","runSettingsConnectionMakerSecure set getConnMaker app\n  = do settingsBeforeMainLoop set\n       counter <- newCounter\n       withII0 $ acceptConnection set getConnMaker app counter\n  where withII0 action\n          = withTimeoutManager $\n              \\ tm ->\n                D.withDateCache $\n                  \\ dc ->\n                    F.withFdCache fdCacheDurationInSeconds $\n                      \\ fdc ->\n                        I.withFileInfoCache fdFileInfoDurationInSeconds $\n                          \\ fic ->\n                            do let ii0 = InternalInfo0 tm dc fdc fic\n                               action ii0\n        !fdCacheDurationInSeconds = settingsFdCacheDuration set * 1000000\n        !fdFileInfoDurationInSeconds\n          = settingsFileInfoCacheDuration set * 1000000\n        !timeoutInSeconds = settingsTimeout set * 1000000\n        withTimeoutManager f\n          = case settingsManager set of\n                Just tm -> f tm\n                Nothing -> bracket (T.initialize timeoutInSeconds) T.stopManager f"],"instances":[],"language":{"extensions":["BangPatterns","OverloadedStrings","PackageImports","PatternGuards","ScopedTypeVariables","TupleSections","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll"]}}