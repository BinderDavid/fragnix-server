{"sliceID":1270755414061137560,"uses":[{"reference":{"otherSlice":2753397306174681168},"usedName":{"constructorName":{"identifier":"FastSet"},"constructorTypeName":{"identifier":"FastSet"}},"qualification":null},{"reference":{"otherSlice":7390130272431652744},"usedName":{"valueName":{"identifier":"listArray"}},"qualification":"AB"},{"reference":{"builtinModule":"Data.Foldable"},"usedName":{"valueName":{"identifier":"length"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"-"}},"qualification":null},{"reference":{"otherSlice":3780386641960753684},"usedName":{"valueName":{"identifier":"ordNub"}},"qualification":null},{"reference":{"builtinModule":"Data.List"},"usedName":{"valueName":{"identifier":"sort"}},"qualification":null},{"reference":{"otherSlice":8563808989293230221},"usedName":{"valueName":{"identifier":"nextPowerOf2"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"*"}},"qualification":null},{"reference":{"builtinModule":"GHC.Real"},"usedName":{"valueName":{"identifier":"div"}},"qualification":null},{"reference":{"otherSlice":2707032023514200248},"usedName":{"valueName":{"identifier":"pad"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"."}},"qualification":null},{"reference":{"otherSlice":4223270678650130413},"usedName":{"valueName":{"identifier":"resolveCollisions"}},"qualification":null},{"reference":{"builtinModule":"Data.List"},"usedName":{"valueName":{"identifier":"sortBy"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"identifier":"compare"}},"qualification":null},{"reference":{"builtinModule":"Data.Function"},"usedName":{"valueName":{"identifier":"on"}},"qualification":null},{"reference":{"otherSlice":2794219871459348518},"usedName":{"valueName":{"identifier":"initialIndex"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"zipWith"}},"qualification":null},{"reference":{"otherSlice":2794219871459348518},"usedName":{"constructorName":{"identifier":"Entry"},"constructorTypeName":{"identifier":"Entry"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"map"}},"qualification":null},{"reference":{"builtinModule":"Data.Bits"},"usedName":{"valueName":{"operator":".&."}},"qualification":null},{"reference":{"otherSlice":4599853589939272164},"usedName":{"valueName":{"identifier":"fastHash"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"Data.Foldable"},"usedName":{"valueName":{"identifier":"concatMap"}},"qualification":null},{"reference":{"builtinModule":"GHC.Enum"},"usedName":{"valueName":{"identifier":"fromEnum"}},"qualification":null},{"reference":{"otherSlice":2794219871459348518},"usedName":{"valueName":{"identifier":"key"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"typeName":{"identifier":"String"}},"qualification":null},{"reference":{"otherSlice":2753397306174681168},"usedName":{"typeName":{"identifier":"FastSet"}},"qualification":null}],"fragment":["fromList :: String -> FastSet","fromList s\n  = FastSet (AB.listArray (0, length interleaved - 1) interleaved)\n      mask'\n  where s' = ordNub (sort s)\n        l = length s'\n        mask' = nextPowerOf2 ((5 * l) `div` 4) - 1\n        entries\n          = pad mask' .\n              resolveCollisions .\n                sortBy (compare `on` initialIndex) .\n                  zipWith (\\ c i -> Entry c i i) s' . map ((.&. mask') . fastHash)\n              $ s'\n        interleaved\n          = concatMap (\\ e -> [fromEnum $ key e, initialIndex e]) entries"],"instances":[],"language":{"extensions":["BangPatterns","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}