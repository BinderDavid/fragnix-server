{"sliceID":2101471507394622658,"uses":[{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"=="}},"qualification":null},{"reference":{"otherSlice":4010824518276340647},"usedName":{"valueName":{"identifier":"http11"}},"qualification":"H"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"otherSlice":2150836866812832620},"usedName":{"valueName":{"identifier":"httpVersion"}},"qualification":null},{"reference":{"builtinModule":"GHC.Arr"},"usedName":{"valueName":{"operator":"!"}},"qualification":null},{"reference":{"builtinModule":"GHC.Enum"},"usedName":{"valueName":{"identifier":"fromEnum"}},"qualification":null},{"reference":{"otherSlice":3180919271543096407},"usedName":{"constructorName":{"identifier":"ReqConnection"},"constructorTypeName":{"identifier":"RequestHeaderIndex"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Just"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":1061812587962791172},"usedName":{"valueName":{"identifier":"foldCase"}},"qualification":"CI"},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"constructorName":{"identifier":"False"},"constructorTypeName":{"identifier":"Bool"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"constructorName":{"identifier":"True"},"constructorTypeName":{"identifier":"Bool"}},"qualification":null},{"reference":{"otherSlice":2150836866812832620},"usedName":{"typeName":{"identifier":"Request"}},"qualification":null},{"reference":{"otherSlice":7539027878723779009},"usedName":{"typeName":{"identifier":"IndexedHeader"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"Bool"}},"qualification":null}],"fragment":["checkPersist :: Request -> IndexedHeader -> Bool","checkPersist req reqidxhdr\n  | ver == H.http11 = checkPersist11 conn\n  | otherwise = checkPersist10 conn\n  where ver = httpVersion req\n        conn = reqidxhdr ! fromEnum ReqConnection\n        checkPersist11 (Just x) | CI.foldCase x == \"close\" = False\n        checkPersist11 _ = True\n        checkPersist10 (Just x) | CI.foldCase x == \"keep-alive\" = True\n        checkPersist10 _ = False"],"instances":[],"language":{"extensions":["OverloadedStrings","ScopedTypeVariables","TupleSections","RankNTypes","BangPatterns","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}