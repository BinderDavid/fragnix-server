{"sliceID":5871510540480009328,"uses":[{"reference":{"otherSlice":5583021569845988920},"usedName":{"valueName":{"identifier":"pruneWith"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":8553140706542597649},"usedName":{"valueName":{"identifier":"merge"}},"qualification":null},{"reference":{"otherSlice":8618869661231007787},"usedName":{"constructorName":{"identifier":"FdEntry"},"constructorTypeName":{"identifier":"FdEntry"}},"qualification":null},{"reference":{"otherSlice":8181793012616625606},"usedName":{"valueName":{"identifier":"status"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":">>="}},"qualification":null},{"reference":{"otherSlice":8773326500331600846},"usedName":{"constructorName":{"identifier":"Active"},"constructorTypeName":{"identifier":"Status"}},"qualification":null},{"reference":{"otherSlice":4738880690892925646},"usedName":{"valueName":{"identifier":"inactive"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":">>"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"constructorName":{"identifier":"True"},"constructorTypeName":{"identifier":"Bool"}},"qualification":null},{"reference":{"otherSlice":8773326500331600846},"usedName":{"constructorName":{"identifier":"Inactive"},"constructorTypeName":{"identifier":"Status"}},"qualification":null},{"reference":{"otherSlice":8610559095492154908},"usedName":{"valueName":{"identifier":"closeFd"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"constructorName":{"identifier":"False"},"constructorTypeName":{"identifier":"Bool"}},"qualification":null},{"reference":{"otherSlice":8038973632028168161},"usedName":{"typeName":{"identifier":"FdCache"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null}],"fragment":["clean :: FdCache -> IO (FdCache -> FdCache)","clean old\n  = do new <- pruneWith old prune\n       return $ merge new\n  where prune (FdEntry _ fd mst) = status mst >>= act\n          where act Active = inactive mst >> return True\n                act Inactive = closeFd fd >> return False"],"instances":[],"language":{"extensions":["BangPatterns","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}