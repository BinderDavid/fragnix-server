{"sliceID":349822993400627352,"uses":[{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":2150836866812832620},"usedName":{"valueName":{"identifier":"pathInfo"}},"qualification":null},{"reference":{"builtinModule":"Data.Either"},"usedName":{"constructorName":{"identifier":"Right"},"constructorTypeName":{"identifier":"Either"}},"qualification":null},{"reference":{"builtinModule":"Data.Either"},"usedName":{"constructorName":{"identifier":"Left"},"constructorTypeName":{"identifier":"Either"}},"qualification":null},{"reference":{"otherSlice":1131376258498632275},"usedName":{"valueName":{"identifier":"responseLBS"}},"qualification":null},{"reference":{"otherSlice":2353340759633695262},"usedName":{"valueName":{"identifier":"status301"}},"qualification":null},{"reference":{"otherSlice":2325900752127330681},"usedName":{"valueName":{"identifier":"hLocation"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"mconcat"}},"qualification":null},{"reference":{"otherSlice":5414550357964476688},"usedName":{"valueName":{"identifier":"empty"}},"qualification":"L"},{"reference":{"otherSlice":1876519188538962238},"usedName":{"valueName":{"identifier":"uncons"}},"qualification":"B"},{"reference":{"otherSlice":2150836866812832620},"usedName":{"valueName":{"identifier":"rawQueryString"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Nothing"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":4791260247128078865},"usedName":{"valueName":{"identifier":"empty"}},"qualification":"B"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Just"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":2042388590478153681},"usedName":{"valueName":{"identifier":"cons"}},"qualification":"B"},{"reference":{"otherSlice":6658493354337671128},"usedName":{"typeName":{"identifier":"Text"}},"qualification":null},{"reference":{"builtinModule":"Data.Either"},"usedName":{"typeName":{"identifier":"Either"}},"qualification":null},{"reference":{"otherSlice":4942888801223460576},"usedName":{"typeName":{"identifier":"ByteString"}},"qualification":"B"},{"reference":{"otherSlice":628686228066488211},"usedName":{"typeName":{"identifier":"Application"}},"qualification":null}],"fragment":["cleanPath ::\n          ([Text] -> Either B.ByteString [Text]) ->\n            B.ByteString -> ([Text] -> Application) -> Application","cleanPath splitter prefix app env sendResponse\n  = case splitter $ pathInfo env of\n        Right pieces -> app pieces env sendResponse\n        Left p -> sendResponse $\n                    responseLBS status301 [(hLocation, mconcat [prefix, p, suffix])] $\n                      L.empty\n  where suffix\n          = case B.uncons $ rawQueryString env of\n                Nothing -> B.empty\n                Just ('?', _) -> rawQueryString env\n                _ -> B.cons '?' $ rawQueryString env"],"instances":[],"language":{"extensions":["OverloadedStrings","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}