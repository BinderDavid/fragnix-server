{"sliceID":7305903083189421654,"uses":[{"reference":{"otherSlice":6658493354337671128},"usedName":{"typeName":{"identifier":"Text"}},"qualification":null},{"reference":{"otherSlice":6956693666779319034},"usedName":{"typeName":{"identifier":"RequestHeaders"}},"qualification":"H"},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":8780573258186764165},"usedName":{"typeName":{"identifier":"Middleware"}},"qualification":null},{"reference":{"otherSlice":6507741471053931402},"usedName":{"valueName":{"identifier":"pathsOnly"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"."}},"qualification":null},{"reference":{"builtinModule":"Data.Tuple"},"usedName":{"valueName":{"identifier":"curry"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"Control.Monad.IO.Class"},"usedName":{"valueName":{"identifier":"liftIO"}},"qualification":null},{"reference":{"builtinModule":"Data.Tuple"},"usedName":{"valueName":{"identifier":"uncurry"}},"qualification":null},{"reference":{"otherSlice":6393773047089100586},"usedName":{"valueName":{"identifier":"rewriteRequestRawM"}},"qualification":null}],"fragment":["rewrite :: ([Text] -> H.RequestHeaders -> IO [Text]) -> Middleware","rewrite convert app req sendResponse\n  = do let convertIO = pathsOnly . curry $ liftIO . uncurry convert\n       newReq <- rewriteRequestRawM convertIO req\n       app newReq sendResponse"],"instances":[],"language":{"extensions":["OverloadedStrings","TupleSections","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}