{"sliceID":1418105063725246731,"uses":[{"reference":{"builtinModule":"GHC.Conc.Sync"},"usedName":{"valueName":{"identifier":"myThreadId"}},"qualification":null},{"reference":{"builtinModule":"Control.Exception.Base"},"usedName":{"valueName":{"identifier":"catch"}},"qualification":null},{"reference":{"builtinModule":"GHC.Conc.Sync"},"usedName":{"valueName":{"identifier":"throwTo"}},"qualification":null},{"reference":{"builtinModule":"GHC.Exception"},"usedName":{"typeName":{"identifier":"SomeException"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO"},"usedName":{"valueName":{"identifier":"throwIO"}},"qualification":null},{"reference":{"otherSlice":1997559792715621098},"usedName":{"valueName":{"identifier":"withApplication"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":7471038449729235448},"usedName":{"typeName":{"identifier":"Settings"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":628686228066488211},"usedName":{"typeName":{"identifier":"Application"}},"qualification":null},{"reference":{"otherSlice":77633250252228524},"usedName":{"typeName":{"identifier":"Port"}},"qualification":null}],"fragment":["testWithApplicationSettings ::\n                            Settings -> IO Application -> (Port -> IO a) -> IO a","testWithApplicationSettings _settings mkApp action\n  = do callingThread <- myThreadId\n       app <- mkApp\n       let wrappedApp request respond\n             = app request respond `catch`\n                 \\ e ->\n                   do throwTo callingThread (e :: SomeException)\n                      throwIO e\n       withApplication (return wrappedApp) action"],"instances":[],"language":{"extensions":["MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}