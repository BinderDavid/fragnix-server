{"sliceID":2971289438803712817,"uses":[{"reference":{"builtinModule":"GHC.Base"},"usedName":{"typeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":1781973223832186205},"usedName":{"typeName":{"identifier":"AddrInfo"}},"qualification":null},{"reference":{"otherSlice":385354865410578624},"usedName":{"typeName":{"identifier":"HostName"}},"qualification":null},{"reference":{"otherSlice":3565051758154240159},"usedName":{"typeName":{"identifier":"ServiceName"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":881119326870730711},"usedName":{"valueName":{"identifier":"withSocketsDo"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Marshal.Utils"},"usedName":{"valueName":{"identifier":"maybeWith"}},"qualification":null},{"reference":{"builtinModule":"Foreign.C.String"},"usedName":{"valueName":{"identifier":"withCString"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Marshal.Utils"},"usedName":{"valueName":{"identifier":"with"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Marshal.Alloc"},"usedName":{"valueName":{"identifier":"alloca"}},"qualification":null},{"reference":{"otherSlice":7470294005593624936},"usedName":{"valueName":{"identifier":"c_getaddrinfo"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Storable"},"usedName":{"valueName":{"identifier":"peek"}},"qualification":null},{"reference":{"otherSlice":2988908139033942689},"usedName":{"valueName":{"identifier":"followAddrInfo"}},"qualification":null},{"reference":{"otherSlice":8824423845712439024},"usedName":{"valueName":{"identifier":"c_freeaddrinfo"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":4080278171125282943},"usedName":{"valueName":{"identifier":"gai_strerror"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO.Exception"},"usedName":{"valueName":{"identifier":"ioError"}},"qualification":null},{"reference":{"builtinModule":"System.IO.Error"},"usedName":{"valueName":{"identifier":"ioeSetErrorString"}},"qualification":null},{"reference":{"builtinModule":"System.IO.Error"},"usedName":{"valueName":{"identifier":"mkIOError"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO.Exception"},"usedName":{"constructorName":{"identifier":"NoSuchThing"},"constructorTypeName":{"identifier":"IOErrorType"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Nothing"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null}],"fragment":["getAddrInfo ::\n            Maybe AddrInfo ->\n              Maybe HostName -> Maybe ServiceName -> IO [AddrInfo]","getAddrInfo hints node service\n  = withSocketsDo $\n      maybeWith withCString node $\n        \\ c_node ->\n          maybeWith withCString service $\n            \\ c_service ->\n              maybeWith with filteredHints $\n                \\ c_hints ->\n                  alloca $\n                    \\ ptr_ptr_addrs ->\n                      do ret <- c_getaddrinfo c_node c_service c_hints ptr_ptr_addrs\n                         case ret of\n                             0 -> do ptr_addrs <- peek ptr_ptr_addrs\n                                     ais <- followAddrInfo ptr_addrs\n                                     c_freeaddrinfo ptr_addrs\n                                     return ais\n                             _ -> do err <- gai_strerror ret\n                                     ioError\n                                       (ioeSetErrorString\n                                          (mkIOError NoSuchThing \"Network.Socket.getAddrInfo\"\n                                             Nothing\n                                             Nothing)\n                                          err)\n  where filteredHints = hints"],"instances":[],"language":{"extensions":["DeriveDataTypeable","ForeignFunctionInterface","TypeSynonymInstances","ScopedTypeVariables","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}