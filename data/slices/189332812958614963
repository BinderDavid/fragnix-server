{"sliceID":189332812958614963,"uses":[{"reference":{"builtinModule":"Foreign.Marshal.Alloc"},"usedName":{"valueName":{"identifier":"allocaBytes"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Storable"},"usedName":{"valueName":{"identifier":"pokeByteOff"}},"qualification":null},{"reference":{"otherSlice":9059171836910828283},"usedName":{"valueName":{"identifier":"lockReq2Int"}},"qualification":null},{"reference":{"builtinModule":"Foreign.C.Types"},"usedName":{"typeName":{"identifier":"CShort"}},"qualification":null},{"reference":{"builtinModule":"GHC.Real"},"usedName":{"valueName":{"identifier":"fromIntegral"}},"qualification":null},{"reference":{"otherSlice":562581344300170088},"usedName":{"valueName":{"identifier":"mode2Int"}},"qualification":null},{"reference":{"otherSlice":4828265727763504659},"usedName":{"typeName":{"identifier":"FileLock"}},"qualification":null},{"reference":{"builtinModule":"GHC.Ptr"},"usedName":{"typeName":{"identifier":"Ptr"}},"qualification":null},{"reference":{"builtinModule":"System.Posix.Internals"},"usedName":{"typeName":{"identifier":"CFLock"}},"qualification":"Base"},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null}],"fragment":["allocaLock :: FileLock -> (Ptr Base.CFLock -> IO a) -> IO a","allocaLock (lockreq, mode, start, len) io\n  = allocaBytes (32) $\n      \\ p ->\n        do ((\\ hsc_ptr -> pokeByteOff hsc_ptr 0)) p\n             (lockReq2Int lockreq :: CShort)\n           ((\\ hsc_ptr -> pokeByteOff hsc_ptr 2)) p\n             (fromIntegral (mode2Int mode) :: CShort)\n           ((\\ hsc_ptr -> pokeByteOff hsc_ptr 8)) p start\n           ((\\ hsc_ptr -> pokeByteOff hsc_ptr 16)) p len\n           io p"],"instances":[],"language":{"extensions":["CApiFFI","NondecreasingIndentation","RecordWildCards","MultiParamTypeClasses","ExplicitForAll","PatternGuards"]}}