{"sliceID":7196802242024295411,"uses":[{"reference":{"otherSlice":3244558403807755735},"usedName":{"constructorName":{"identifier":"Context"},"constructorTypeName":{"identifier":"Context"}},"qualification":null},{"reference":{"otherSlice":3244558403807755735},"usedName":{"valueName":{"identifier":"concurrency"}},"qualification":null},{"reference":{"otherSlice":3244558403807755735},"usedName":{"valueName":{"identifier":"streamTable"}},"qualification":null},{"reference":{"otherSlice":686719806749404538},"usedName":{"constructorName":{"identifier":"Stream"},"constructorTypeName":{"identifier":"Stream"}},"qualification":null},{"reference":{"otherSlice":686719806749404538},"usedName":{"valueName":{"identifier":"streamState"}},"qualification":null},{"reference":{"otherSlice":686719806749404538},"usedName":{"valueName":{"identifier":"streamNumber"}},"qualification":null},{"reference":{"otherSlice":6532654986149534117},"usedName":{"valueName":{"identifier":"remove"}},"qualification":null},{"reference":{"builtinModule":"Data.IORef"},"usedName":{"valueName":{"identifier":"atomicModifyIORef'"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"-"}},"qualification":null},{"reference":{"builtinModule":"GHC.IORef"},"usedName":{"valueName":{"identifier":"writeIORef"}},"qualification":null},{"reference":{"otherSlice":3281083188637845408},"usedName":{"constructorName":{"identifier":"Closed"},"constructorTypeName":{"identifier":"StreamState"}},"qualification":null},{"reference":{"otherSlice":3244558403807755735},"usedName":{"typeName":{"identifier":"Context"}},"qualification":null},{"reference":{"otherSlice":686719806749404538},"usedName":{"typeName":{"identifier":"Stream"}},"qualification":null},{"reference":{"otherSlice":2708228187031681692},"usedName":{"typeName":{"identifier":"ClosedCode"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null}],"fragment":["closed :: Context -> Stream -> ClosedCode -> IO ()","closed Context{concurrency, streamTable}\n  Stream{streamState, streamNumber} cc\n  = do remove streamTable streamNumber\n       atomicModifyIORef' concurrency (\\ x -> (x - 1, ()))\n       writeIORef streamState (Closed cc)"],"instances":[],"language":{"extensions":["OverloadedStrings","NamedFieldPuns","RecordWildCards","BangPatterns","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}