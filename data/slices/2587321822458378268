{"sliceID":2587321822458378268,"uses":[{"reference":{"otherSlice":6428857866717350363},"usedName":{"typeName":{"identifier":"Write"}},"qualification":"W"},{"reference":{"otherSlice":4942888801223460576},"usedName":{"typeName":{"identifier":"ByteString"}},"qualification":"S"},{"reference":{"builtinModule":"GHC.IO.Unsafe"},"usedName":{"valueName":{"identifier":"unsafeDupablePerformIO"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":5831756764704217508},"usedName":{"valueName":{"identifier":"mallocByteString"}},"qualification":"S"},{"reference":{"otherSlice":2156803402377576563},"usedName":{"valueName":{"identifier":"getBound"}},"qualification":"W"},{"reference":{"builtinModule":"Foreign.ForeignPtr"},"usedName":{"valueName":{"identifier":"withForeignPtr"}},"qualification":null},{"reference":{"otherSlice":6992070526736459767},"usedName":{"valueName":{"identifier":"runWrite"}},"qualification":"W"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$!"}},"qualification":null},{"reference":{"builtinModule":"GHC.Ptr"},"usedName":{"valueName":{"identifier":"minusPtr"}},"qualification":null},{"reference":{"otherSlice":3655853242670800660},"usedName":{"valueName":{"identifier":"fromForeignPtr"}},"qualification":"S"}],"fragment":["writeToByteString :: W.Write -> S.ByteString","writeToByteString !w\n  = unsafeDupablePerformIO $\n      do fptr <- S.mallocByteString (W.getBound w)\n         len <- withForeignPtr fptr $\n                  \\ ptr ->\n                    do end <- W.runWrite w ptr\n                       return $! end `minusPtr` ptr\n         return $! S.fromForeignPtr fptr 0 len"],"instances":[],"language":{"extensions":["BangPatterns","GeneralizedNewtypeDeriving","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}