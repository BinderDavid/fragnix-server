{"sliceID":6417967166161192741,"uses":[{"reference":{"otherSlice":4942888801223460576},"usedName":{"constructorName":{"identifier":"PS"},"constructorTypeName":{"identifier":"ByteString"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO.Unsafe"},"usedName":{"valueName":{"identifier":"unsafeDupablePerformIO"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"Foreign.ForeignPtr"},"usedName":{"valueName":{"identifier":"withForeignPtr"}},"qualification":null},{"reference":{"otherSlice":7343942256916397394},"usedName":{"valueName":{"operator":"+."}},"qualification":null},{"reference":{"otherSlice":3075270131678174846},"usedName":{"valueName":{"identifier":"word32'"}},"qualification":null},{"reference":{"otherSlice":1577636601095070549},"usedName":{"valueName":{"identifier":"streamIdentifier"}},"qualification":null},{"reference":{"otherSlice":6750333268215465839},"usedName":{"valueName":{"identifier":"testExclusive"}},"qualification":null},{"reference":{"builtinModule":"GHC.Real"},"usedName":{"valueName":{"identifier":"fromIntegral"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Storable"},"usedName":{"valueName":{"identifier":"peek"}},"qualification":null},{"reference":{"otherSlice":4491004851072798912},"usedName":{"valueName":{"identifier":"intFromWord8"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"+"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":8335885934954703251},"usedName":{"constructorName":{"identifier":"Priority"},"constructorTypeName":{"identifier":"Priority"}},"qualification":null},{"reference":{"otherSlice":4942888801223460576},"usedName":{"typeName":{"identifier":"ByteString"}},"qualification":null},{"reference":{"otherSlice":8335885934954703251},"usedName":{"typeName":{"identifier":"Priority"}},"qualification":null}],"fragment":["priority :: ByteString -> Priority","priority (PS fptr off _)\n  = unsafeDupablePerformIO $\n      withForeignPtr fptr $\n        \\ ptr ->\n          do let p = ptr +. off\n             w32 <- word32' p\n             let !streamdId = streamIdentifier w32\n                 !exclusive = testExclusive (fromIntegral w32)\n             w8 <- peek (p +. 4)\n             let weight = intFromWord8 w8 + 1\n             return $ Priority exclusive streamdId weight"],"instances":[],"language":{"extensions":["TupleSections","BangPatterns","RecordWildCards","OverloadedStrings","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}