{"sliceID":6525654731132994026,"uses":[{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"=="}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"+"}},"qualification":null},{"reference":{"otherSlice":2031517040786215680},"usedName":{"valueName":{"identifier":"bitsPerSubkey"}},"qualification":null},{"reference":{"otherSlice":9194239057169924086},"usedName":{"valueName":{"identifier":"singletonM"}},"qualification":"A"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$!"}},"qualification":null},{"reference":{"otherSlice":4871054613251541877},"usedName":{"constructorName":{"identifier":"BitmapIndexed"},"constructorTypeName":{"identifier":"HashMap"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"otherSlice":3126308137152741021},"usedName":{"valueName":{"identifier":"new"}},"qualification":"A"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":4871054613251541877},"usedName":{"constructorName":{"identifier":"Leaf"},"constructorTypeName":{"identifier":"HashMap"}},"qualification":null},{"reference":{"otherSlice":3998322101007631306},"usedName":{"constructorName":{"identifier":"L"},"constructorTypeName":{"identifier":"Leaf"}},"qualification":null},{"reference":{"otherSlice":410507955169915919},"usedName":{"valueName":{"identifier":"write"}},"qualification":"A"},{"reference":{"otherSlice":8124215306967247849},"usedName":{"valueName":{"identifier":"unsafeFreeze"}},"qualification":"A"},{"reference":{"builtinModule":"Data.Bits"},"usedName":{"valueName":{"operator":".|."}},"qualification":null},{"reference":{"otherSlice":8692377828033704741},"usedName":{"valueName":{"identifier":"mask"}},"qualification":null},{"reference":{"otherSlice":6264238055823815301},"usedName":{"valueName":{"identifier":"index"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"<"}},"qualification":null},{"reference":{"otherSlice":8963717871526196329},"usedName":{"typeName":{"identifier":"Shift"}},"qualification":null},{"reference":{"otherSlice":2537742663522944947},"usedName":{"typeName":{"identifier":"Hash"}},"qualification":null},{"reference":{"builtinModule":"GHC.ST"},"usedName":{"typeName":{"identifier":"ST"}},"qualification":null},{"reference":{"otherSlice":4871054613251541877},"usedName":{"typeName":{"identifier":"HashMap"}},"qualification":null}],"fragment":["two ::\n    Shift -> Hash -> k -> v -> Hash -> k -> v -> ST s (HashMap k v)","two = go\n  where go s h1 k1 v1 h2 k2 v2\n          | bp1 == bp2 =\n            do st <- go (s + bitsPerSubkey) h1 k1 v1 h2 k2 v2\n               ary <- A.singletonM st\n               return $! BitmapIndexed bp1 ary\n          | otherwise =\n            do mary <- A.new 2 $ Leaf h1 (L k1 v1)\n               A.write mary idx2 $ Leaf h2 (L k2 v2)\n               ary <- A.unsafeFreeze mary\n               return $! BitmapIndexed (bp1 .|. bp2) ary\n          where bp1 = mask h1 s\n                bp2 = mask h2 s\n                idx2\n                  | index h1 s < index h2 s = 1\n                  | otherwise = 0"],"instances":[],"language":{"extensions":["BangPatterns","DeriveDataTypeable","MagicHash","ScopedTypeVariables","PatternGuards","RoleAnnotations","TypeFamilies","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll"]}}