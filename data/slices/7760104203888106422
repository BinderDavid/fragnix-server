{"sliceID":7760104203888106422,"uses":[{"reference":{"builtinModule":"System.IO.Error"},"usedName":{"valueName":{"identifier":"modifyIOError"}},"qualification":null},{"reference":{"otherSlice":4240602345081494639},"usedName":{"valueName":{"identifier":"ioeAddLocation"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"."}},"qualification":null},{"reference":{"builtinModule":"System.IO.Error"},"usedName":{"valueName":{"identifier":"ioeSetFileName"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":4433613663860663685},"usedName":{"valueName":{"identifier":"isRelative"}},"qualification":null},{"reference":{"otherSlice":8731926094947171849},"usedName":{"valueName":{"identifier":"getCurrentDirectory"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"takeWhile"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"identifier":"not"}},"qualification":null},{"reference":{"otherSlice":7820976234392971605},"usedName":{"valueName":{"identifier":"isPathSeparator"}},"qualification":null},{"reference":{"otherSlice":2373331864608225741},"usedName":{"valueName":{"identifier":"takeDrive"}},"qualification":null},{"reference":{"otherSlice":4062992502351043283},"usedName":{"valueName":{"identifier":"splitDrive"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":6570118788296286238},"usedName":{"valueName":{"operator":"</>"}},"qualification":null},{"reference":{"builtinModule":"GHC.Unicode"},"usedName":{"valueName":{"identifier":"toUpper"}},"qualification":null},{"reference":{"builtinModule":"Data.Functor"},"usedName":{"valueName":{"operator":"<$>"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"/="}},"qualification":null},{"reference":{"builtinModule":"Data.Monoid"},"usedName":{"valueName":{"operator":"<>"}},"qualification":null},{"reference":{"otherSlice":3750719630626947118},"usedName":{"valueName":{"identifier":"pathSeparator"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO"},"usedName":{"typeName":{"identifier":"FilePath"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null}],"fragment":["prependCurrentDirectory :: FilePath -> IO FilePath","prependCurrentDirectory path\n  = modifyIOError\n      ((`ioeAddLocation` \"prependCurrentDirectory\") .\n         (`ioeSetFileName` path))\n      $\n      if isRelative path then\n        do cwd <- getCurrentDirectory\n           let curDrive = takeWhile (not . isPathSeparator) (takeDrive cwd)\n           let (drive, subpath) = splitDrive path\n           return . (</> subpath) $\n             case drive of\n                 _ : _ | (toUpper <$> drive) /= (toUpper <$> curDrive) ->\n                         drive <> [pathSeparator]\n                 _ -> cwd\n        else return path"],"instances":[],"language":{"extensions":["MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}