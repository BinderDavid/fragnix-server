{"sliceID":1066739976609562028,"uses":[{"reference":{"otherSlice":4182049159116233466},"usedName":{"typeName":{"identifier":"Format"}},"qualification":"Stream"},{"reference":{"otherSlice":2270124290948061460},"usedName":{"typeName":{"identifier":"CompressParams"}},"qualification":null},{"reference":{"otherSlice":7511316425710433924},"usedName":{"typeName":{"identifier":"CompressStream"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":7511316425710433924},"usedName":{"constructorName":{"identifier":"CompressInputRequired"},"constructorTypeName":{"identifier":"CompressStream"}},"qualification":null},{"reference":{"otherSlice":7511316425710433924},"usedName":{"valueName":{"identifier":"compressSupplyInput"}},"qualification":null},{"reference":{"otherSlice":6440141602958235187},"usedName":{"valueName":{"identifier":"mkStateIO"}},"qualification":null},{"reference":{"otherSlice":8437999126740322595},"usedName":{"valueName":{"identifier":"compressStream"}},"qualification":null},{"reference":{"otherSlice":4165068993331019704},"usedName":{"valueName":{"identifier":"runStreamIO"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":125078826469118394},"usedName":{"typeName":{"identifier":"Stream"}},"qualification":null},{"reference":{"otherSlice":8686746673302569493},"usedName":{"typeName":{"identifier":"State"}},"qualification":"Stream"},{"reference":{"builtinModule":"GHC.Prim"},"usedName":{"typeName":{"identifier":"RealWorld"}},"qualification":null},{"reference":{"otherSlice":7511316425710433924},"usedName":{"constructorName":{"identifier":"CompressOutputAvailable"},"constructorTypeName":{"identifier":"CompressStream"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":7511316425710433924},"usedName":{"constructorName":{"identifier":"CompressStreamEnd"},"constructorTypeName":{"identifier":"CompressStream"}},"qualification":null}],"fragment":["compressStreamIO ::\n                 Stream.Format -> CompressParams -> CompressStream IO","compressStreamIO format params\n  = CompressInputRequired{compressSupplyInput =\n                            \\ chunk ->\n                              do zstate <- mkStateIO\n                                 let next = compressStream format params\n                                 (strm', zstate') <- runStreamIO (next chunk) zstate\n                                 return (go strm' zstate')}\n  where go ::\n           CompressStream Stream ->\n             Stream.State RealWorld -> CompressStream IO\n        go (CompressInputRequired next) zstate\n          = CompressInputRequired{compressSupplyInput =\n                                    \\ chunk ->\n                                      do (strm', zstate') <- runStreamIO (next chunk) zstate\n                                         return (go strm' zstate')}\n        go (CompressOutputAvailable chunk next) zstate\n          = CompressOutputAvailable chunk $\n              do (strm', zstate') <- runStreamIO next zstate\n                 return (go strm' zstate')\n        go CompressStreamEnd _ = CompressStreamEnd"],"instances":[],"language":{"extensions":["RankNTypes","DeriveDataTypeable","BangPatterns","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}