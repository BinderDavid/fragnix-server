{"sliceID":1136400249013523095,"uses":[{"reference":{"builtinModule":"Data.IORef"},"usedName":{"valueName":{"identifier":"atomicModifyIORef"}},"qualification":"I"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":242884570348404199},"usedName":{"constructorName":{"identifier":"ReleaseMap"},"constructorTypeName":{"identifier":"ReleaseMap"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"+"}},"qualification":null},{"reference":{"otherSlice":242884570348404199},"usedName":{"constructorName":{"identifier":"ReleaseMapClosed"},"constructorTypeName":{"identifier":"ReleaseMap"}},"qualification":null},{"reference":{"builtinModule":"GHC.Exception"},"usedName":{"valueName":{"identifier":"throw"}},"qualification":null},{"reference":{"otherSlice":6128845532669603707},"usedName":{"constructorName":{"identifier":"InvalidAccess"},"constructorTypeName":{"identifier":"InvalidAccess"}},"qualification":null},{"reference":{"builtinModule":"GHC.IORef"},"usedName":{"typeName":{"identifier":"IORef"}},"qualification":"I"},{"reference":{"otherSlice":242884570348404199},"usedName":{"typeName":{"identifier":"ReleaseMap"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null}],"fragment":["stateAlloc :: I.IORef ReleaseMap -> IO ()","stateAlloc istate\n  = do I.atomicModifyIORef istate $\n         \\ rm ->\n           case rm of\n               ReleaseMap nk rf m -> (ReleaseMap nk (rf + 1) m, ())\n               ReleaseMapClosed -> throw $ InvalidAccess \"stateAlloc\""],"instances":[],"language":{"extensions":["DeriveDataTypeable","FlexibleInstances","FlexibleContexts","MultiParamTypeClasses","TypeFamilies","UndecidableInstances","RankNTypes","NondecreasingIndentation","ExplicitForAll","PatternGuards"]}}